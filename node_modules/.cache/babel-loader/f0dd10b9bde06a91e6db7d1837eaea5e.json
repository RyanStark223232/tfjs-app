{"ast":null,"code":"/**\r\n * @license\r\n * Copyright 2018 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\nimport { backend_util } from '@tensorflow/tfjs-core'; // (Ar + Ai)(Br + Bi) =\n// ArBr + ArBi + AiBr + AiBi = ArBr - AB + ArBi + AiBr\n// Yr = ArBr - AB\n// Yi = ArBi + AiBr\n\nexport const COMPLEX_MULTIPLY = {\n  REAL: 'return areal * breal - aimag * bimag;',\n  IMAG: 'return areal * bimag + aimag * breal;'\n};\nexport class BinaryOpComplexProgram {\n  constructor(op, aShape, bShape) {\n    this.variableNames = ['AReal', 'AImag', 'BReal', 'BImag'];\n    this.outputShape = backend_util.assertAndGetBroadcastShape(aShape, bShape);\n    this.userCode = `\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        ${op}\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    `;\n  }\n\n}","map":{"version":3,"sources":["../src/binaryop_complex_gpu.ts"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;AAeG;AAEH,SAAQ,YAAR,QAA2B,uBAA3B,C,CAGA;AACA;AACA;AACA;;AACA,OAAO,MAAM,gBAAgB,GAAG;AAC9B,EAAA,IAAI,EAAE,uCADwB;AAE9B,EAAA,IAAI,EAAE;AAFwB,CAAzB;AAKP,OAAM,MAAO,sBAAP,CAA6B;AAKjC,EAAA,WAAA,CAAY,EAAZ,EAAwB,MAAxB,EAA0C,MAA1C,EAA0D;AAJ1D,SAAA,aAAA,GAAgB,CAAC,OAAD,EAAU,OAAV,EAAmB,OAAnB,EAA4B,OAA5B,CAAhB;AAKE,SAAK,WAAL,GAAmB,YAAY,CAAC,0BAAb,CAAwC,MAAxC,EAAgD,MAAhD,CAAnB;AAEA,SAAK,QAAL,GAAgB;;;UAGV,EAAE;;;;;;;;;;AAUP,KAbD;AAcD;;AAtBgC","sourceRoot":"","sourcesContent":["/**\r\n * @license\r\n * Copyright 2018 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nimport { backend_util } from '@tensorflow/tfjs-core';\r\n// (Ar + Ai)(Br + Bi) =\r\n// ArBr + ArBi + AiBr + AiBi = ArBr - AB + ArBi + AiBr\r\n// Yr = ArBr - AB\r\n// Yi = ArBi + AiBr\r\nexport const COMPLEX_MULTIPLY = {\r\n    REAL: 'return areal * breal - aimag * bimag;',\r\n    IMAG: 'return areal * bimag + aimag * breal;'\r\n};\r\nexport class BinaryOpComplexProgram {\r\n    constructor(op, aShape, bShape) {\r\n        this.variableNames = ['AReal', 'AImag', 'BReal', 'BImag'];\r\n        this.outputShape = backend_util.assertAndGetBroadcastShape(aShape, bShape);\r\n        this.userCode = `\r\n      float binaryOpComplex(\r\n          float areal, float aimag, float breal, float bimag) {\r\n        ${op}\r\n      }\r\n\r\n      void main() {\r\n        float areal = getARealAtOutCoords();\r\n        float aimag = getAImagAtOutCoords();\r\n        float breal = getBRealAtOutCoords();\r\n        float bimag = getBImagAtOutCoords();\r\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\r\n      }\r\n    `;\r\n    }\r\n}\r\n//# sourceMappingURL=binaryop_complex_gpu.js.map"]},"metadata":{},"sourceType":"module"}