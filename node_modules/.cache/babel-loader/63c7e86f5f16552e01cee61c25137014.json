{"ast":null,"code":"/**\r\n * @license\r\n * Copyright 2020 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\nexport const EPSILON_FLOAT32 = 1e-7;\nexport const EPSILON_FLOAT16 = 1e-4;\n/** Convenient class for storing tensor-related data. */\n\nexport class DataStorage {\n  constructor(backend, dataMover) {\n    this.backend = backend;\n    this.dataMover = dataMover;\n    this.data = new WeakMap();\n    this.dataIdsCount = 0;\n  }\n\n  get(dataId) {\n    if (!this.data.has(dataId)) {\n      this.dataMover.moveData(this.backend, dataId);\n    }\n\n    return this.data.get(dataId);\n  }\n\n  set(dataId, value) {\n    this.dataIdsCount++;\n    this.data.set(dataId, value);\n  }\n\n  has(dataId) {\n    return this.data.has(dataId);\n  }\n\n  delete(dataId) {\n    this.dataIdsCount--;\n    return this.data.delete(dataId);\n  }\n\n  numDataIds() {\n    return this.dataIdsCount;\n  }\n\n}\n/**\r\n * The interface that defines the kernels that should be implemented when\r\n * adding a new backend. New backends don't need to implement every one of the\r\n * methods, this can be done gradually (throw an error for unimplemented\r\n * methods).\r\n */\n\nexport class KernelBackend {\n  time(f) {\n    return notYetImplemented('time');\n  }\n\n  read(dataId) {\n    return notYetImplemented('read');\n  }\n\n  readSync(dataId) {\n    return notYetImplemented('readSync');\n  }\n\n  numDataIds() {\n    return notYetImplemented('numDataIds');\n  }\n\n  disposeData(dataId) {\n    return notYetImplemented('disposeData');\n  }\n\n  write(values, shape, dtype) {\n    return notYetImplemented('write');\n  }\n\n  move(dataId, values, shape, dtype) {\n    return notYetImplemented('move');\n  }\n\n  memory() {\n    return notYetImplemented('memory');\n  }\n  /** Returns the highest precision for floats in bits (e.g. 16 or 32) */\n\n\n  floatPrecision() {\n    return notYetImplemented('floatPrecision');\n  }\n  /** Returns the smallest representable number.  */\n\n\n  epsilon() {\n    return this.floatPrecision() === 32 ? EPSILON_FLOAT32 : EPSILON_FLOAT16;\n  }\n\n  batchMatMul(a, b, transposeA, transposeB) {\n    return notYetImplemented('batchMatMul');\n  }\n\n  fusedBatchMatMul({\n    a,\n    b,\n    transposeA,\n    transposeB,\n    bias,\n    activation,\n    preluActivationWeights\n  }) {\n    return notYetImplemented('fusedBatchMatMul');\n  }\n\n  slice(x, begin, size) {\n    return notYetImplemented('slice');\n  }\n\n  stridedSlice(x, begin, end, strides) {\n    return notYetImplemented('stridedSlice');\n  }\n\n  unstack(x, axis) {\n    return notYetImplemented('unstack');\n  }\n\n  reverse(a, axis) {\n    return notYetImplemented('reverse');\n  }\n\n  concat(tensors, axis) {\n    return notYetImplemented('concat');\n  }\n\n  neg(a) {\n    return notYetImplemented('neg');\n  }\n\n  add(a, b) {\n    return notYetImplemented('add');\n  }\n\n  addN(tensors) {\n    return notYetImplemented('addN');\n  }\n\n  subtract(a, b) {\n    return notYetImplemented('subtract');\n  }\n\n  multiply(a, b) {\n    return notYetImplemented('multiply');\n  }\n\n  realDivide(a, b) {\n    return notYetImplemented('realDivide');\n  }\n\n  floorDiv(a, b) {\n    return notYetImplemented('floorDiv');\n  }\n\n  sum(x, axes) {\n    return notYetImplemented('sum');\n  }\n\n  prod(x, axes) {\n    return notYetImplemented('prod');\n  }\n\n  unsortedSegmentSum(x, segmentIds, numSegments) {\n    return notYetImplemented('unsortedSegmentSum');\n  }\n\n  argMin(x, axis) {\n    return notYetImplemented('argMin');\n  }\n\n  argMax(x, axis) {\n    return notYetImplemented('argMax');\n  }\n\n  equal(a, b) {\n    return notYetImplemented('equal');\n  }\n\n  notEqual(a, b) {\n    return notYetImplemented('notEqual');\n  }\n\n  less(a, b) {\n    return notYetImplemented('less');\n  }\n\n  lessEqual(a, b) {\n    return notYetImplemented('lessEqual');\n  }\n\n  greater(a, b) {\n    return notYetImplemented('greater');\n  }\n\n  greaterEqual(a, b) {\n    return notYetImplemented('greaterEqual');\n  }\n\n  logicalNot(a) {\n    return notYetImplemented('logicalNot');\n  }\n\n  logicalAnd(a, b) {\n    return notYetImplemented('logicalAnd');\n  }\n\n  logicalOr(a, b) {\n    return notYetImplemented('logicalOr');\n  }\n\n  where(condition) {\n    return notYetImplemented('where');\n  }\n\n  select(condition, a, b) {\n    return notYetImplemented('select');\n  }\n\n  topk(x, k, sorted) {\n    return notYetImplemented('topk');\n  }\n\n  min(x, axes) {\n    return notYetImplemented('min');\n  }\n\n  minimum(a, b) {\n    return notYetImplemented('minimum');\n  }\n\n  mod(a, b) {\n    return notYetImplemented('mod');\n  }\n\n  max(x, axes) {\n    return notYetImplemented('max');\n  }\n\n  maximum(a, b) {\n    return notYetImplemented('maximum');\n  }\n\n  all(x, axes) {\n    return notYetImplemented('all');\n  }\n\n  any(x, axes) {\n    return notYetImplemented('any');\n  }\n\n  squaredDifference(a, b) {\n    return notYetImplemented('squaredDifference');\n  }\n\n  ceil(x) {\n    return notYetImplemented('ceil');\n  }\n\n  floor(x) {\n    return notYetImplemented('floor');\n  }\n\n  round(x) {\n    return notYetImplemented('round');\n  }\n\n  sign(x) {\n    return notYetImplemented('sign');\n  }\n\n  isNaN(x) {\n    return notYetImplemented('isNaN');\n  }\n\n  isInf(x) {\n    return notYetImplemented('isInf');\n  }\n\n  isFinite(x) {\n    return notYetImplemented('isFinite');\n  }\n\n  pow(a, b) {\n    return notYetImplemented('pow');\n  }\n\n  exp(x) {\n    return notYetImplemented('exp');\n  }\n\n  expm1(x) {\n    return notYetImplemented('expm1');\n  }\n\n  softmax(x, dim) {\n    return notYetImplemented('softmax');\n  }\n\n  log(x) {\n    return notYetImplemented('log');\n  }\n\n  log1p(x) {\n    return notYetImplemented('log1p');\n  }\n\n  sqrt(x) {\n    return notYetImplemented('sqrt');\n  }\n\n  rsqrt(x) {\n    return notYetImplemented('rsqrt');\n  }\n\n  square(x) {\n    return notYetImplemented('square');\n  }\n\n  reciprocal(x) {\n    return notYetImplemented('reciprocal');\n  }\n\n  relu(x) {\n    return notYetImplemented('relu');\n  }\n\n  relu6(x) {\n    return notYetImplemented('relu6');\n  }\n\n  prelu(x, a) {\n    return notYetImplemented('prelu');\n  }\n\n  elu(x) {\n    return notYetImplemented('elu');\n  }\n\n  eluDer(dy, y) {\n    return notYetImplemented('eluDer');\n  }\n\n  selu(x) {\n    return notYetImplemented('selu');\n  }\n\n  int(x) {\n    return notYetImplemented('int');\n  }\n\n  clip(x, min, max) {\n    return notYetImplemented('clip');\n  }\n\n  abs(x) {\n    return notYetImplemented('abs');\n  }\n\n  complexAbs(x) {\n    return notYetImplemented('complexAbs');\n  }\n\n  sigmoid(x) {\n    return notYetImplemented('sigmoid');\n  }\n\n  softplus(x) {\n    return notYetImplemented('softplus');\n  }\n\n  sin(x) {\n    return notYetImplemented('sin');\n  }\n\n  cos(x) {\n    return notYetImplemented('cos');\n  }\n\n  tan(x) {\n    return notYetImplemented('tan');\n  }\n\n  asin(x) {\n    return notYetImplemented('asin');\n  }\n\n  acos(x) {\n    return notYetImplemented('acos');\n  }\n\n  atan(x) {\n    return notYetImplemented('atan');\n  }\n\n  atan2(a, b) {\n    return notYetImplemented('atan2');\n  }\n\n  sinh(x) {\n    return notYetImplemented('sinh');\n  }\n\n  cosh(x) {\n    return notYetImplemented('cosh');\n  }\n\n  tanh(x) {\n    return notYetImplemented('tanh');\n  }\n\n  asinh(x) {\n    return notYetImplemented('asinh');\n  }\n\n  acosh(x) {\n    return notYetImplemented('acosh');\n  }\n\n  atanh(x) {\n    return notYetImplemented('atanh');\n  }\n\n  erf(x) {\n    return notYetImplemented('erf');\n  }\n\n  step(x, alpha) {\n    return notYetImplemented('step');\n  }\n\n  fusedConv2d({\n    input,\n    filter,\n    convInfo,\n    bias,\n    activation,\n    preluActivationWeights\n  }) {\n    return notYetImplemented('fusedConv2d');\n  }\n\n  conv2d(x, filter, convInfo) {\n    return notYetImplemented('conv2d');\n  }\n\n  conv2dDerInput(dy, filter, convInfo) {\n    return notYetImplemented('conv2dDerInput');\n  }\n\n  conv2dDerFilter(x, dY, convInfo) {\n    return notYetImplemented('conv2dDerFilter');\n  }\n\n  fusedDepthwiseConv2D({\n    input,\n    filter,\n    convInfo,\n    bias,\n    activation,\n    preluActivationWeights\n  }) {\n    return notYetImplemented('fusedDepthwiseConv2D');\n  }\n\n  depthwiseConv2D(input, filter, convInfo) {\n    return notYetImplemented('depthwiseConv2D');\n  }\n\n  depthwiseConv2DDerInput(dy, filter, convInfo) {\n    return notYetImplemented('depthwiseConv2DDerInput');\n  }\n\n  depthwiseConv2DDerFilter(x, dY, convInfo) {\n    return notYetImplemented('depthwiseConv2DDerFilter');\n  }\n\n  conv3d(x, filter, convInfo) {\n    return notYetImplemented('conv3d');\n  }\n\n  conv3dDerInput(dy, filter, convInfo) {\n    return notYetImplemented('conv3dDerInput');\n  }\n\n  conv3dDerFilter(x, dY, convInfo) {\n    return notYetImplemented('conv3dDerFilter');\n  }\n\n  maxPool(x, convInfo) {\n    return notYetImplemented('maxPool');\n  }\n\n  maxPoolBackprop(dy, x, y, convInfo) {\n    return notYetImplemented('maxPoolBackprop');\n  }\n\n  avgPool(x, convInfo) {\n    return notYetImplemented('avgPool');\n  }\n\n  avgPoolBackprop(dy, x, convInfo) {\n    return notYetImplemented('avgPoolBackprop');\n  }\n\n  avgPool3d(x, convInfo) {\n    return notYetImplemented('avgPool3d');\n  }\n\n  avgPool3dBackprop(dy, x, convInfo) {\n    return notYetImplemented('avgPool3dBackprop');\n  }\n\n  maxPool3d(x, convInfo) {\n    return notYetImplemented('maxPool3d');\n  }\n\n  maxPool3dBackprop(dy, x, y, convInfo) {\n    return notYetImplemented('maxPool3dBackprop');\n  }\n\n  reshape(x, shape) {\n    return notYetImplemented('reshape');\n  }\n\n  cast(x, dtype) {\n    return notYetImplemented('cast');\n  }\n\n  tile(x, reps) {\n    return notYetImplemented('tile');\n  }\n\n  pad(x, paddings, constantValue) {\n    return notYetImplemented('pad');\n  }\n\n  transpose(x, perm) {\n    return notYetImplemented('transpose');\n  }\n\n  gather(x, indices, axis) {\n    return notYetImplemented('gather');\n  }\n\n  gatherND(x, indices) {\n    return notYetImplemented('gatherND');\n  }\n\n  scatterND(indices, updates, shape) {\n    return notYetImplemented('scatterND');\n  }\n\n  batchToSpaceND(x, blockShape, crops) {\n    return notYetImplemented('batchToSpaceND');\n  }\n\n  spaceToBatchND(x, blockShape, paddings) {\n    return notYetImplemented('spaceToBatchND');\n  }\n\n  resizeBilinear(x, newHeight, newWidth, alignCorners) {\n    return notYetImplemented('resizeBilinear');\n  }\n\n  resizeBilinearBackprop(dy, x, alignCorners) {\n    return notYetImplemented('resizeBilinearBackprop');\n  }\n\n  resizeNearestNeighbor(x, newHEight, newWidth, alignCorners) {\n    return notYetImplemented('resizeNearestNeighbor');\n  }\n\n  resizeNearestNeighborBackprop(dy, x, alignCorners) {\n    return notYetImplemented('resizeNearestNeighborBackprop');\n  }\n\n  batchNorm(x, mean, variance, offset, scale, varianceEpsilon) {\n    return notYetImplemented('batchNorm');\n  }\n\n  localResponseNormalization4D(x, radius, bias, alpha, beta) {\n    return notYetImplemented('localResponseNormalization4D');\n  }\n\n  LRNGrad(dy, inputImage, outputImage, radius, bias, alpha, beta) {\n    return notYetImplemented('LRNGrad');\n  }\n\n  multinomial(logits, normalized, numSamples, seed) {\n    return notYetImplemented('multinomial');\n  }\n\n  oneHot(indices, depth, onValue, offValue) {\n    return notYetImplemented('oneHot');\n  }\n\n  cumsum(x, axis, exclusive, reverse) {\n    return notYetImplemented('cumsum');\n  }\n\n  nonMaxSuppression(boxes, scores, maxOutputSize, iouThreshold, scoreThreshold) {\n    return notYetImplemented('nonMaxSuppression');\n  }\n\n  fft(x) {\n    return notYetImplemented('fft');\n  }\n\n  ifft(x) {\n    return notYetImplemented('ifft');\n  }\n\n  complex(real, imag) {\n    return notYetImplemented('complex');\n  }\n\n  real(input) {\n    return notYetImplemented('real');\n  }\n\n  imag(input) {\n    return notYetImplemented('imag');\n  }\n\n  cropAndResize(image, boxes, boxIndex, cropSize, method, extrapolationValue) {\n    return notYetImplemented('cropAndResize');\n  }\n\n  depthToSpace(x, blockSize, dataFormat) {\n    return notYetImplemented('depthToSpace');\n  } // Aligns with the \"SplitV\" kernel in TensorFlow.\n\n\n  split(value, sizeSplits, axis) {\n    return notYetImplemented('split');\n  }\n\n  sparseToDense(sparseIndices, sparseValues, outputShape, defaultValue) {\n    return notYetImplemented('sparseToDense');\n  }\n\n  diag(x) {\n    return notYetImplemented('diag');\n  }\n\n  fill(shape, value, dtype) {\n    return notYetImplemented('fill');\n  }\n\n  onesLike(x) {\n    return notYetImplemented('onesLike');\n  }\n\n  zerosLike(x) {\n    return notYetImplemented('zerosLike');\n  }\n\n  linspace(start, stop, num) {\n    return notYetImplemented('linspace');\n  }\n\n  dispose() {\n    return notYetImplemented('dispose');\n  }\n\n}\n\nfunction notYetImplemented(kernelName) {\n  throw new Error(`'${kernelName}' not yet implemented or not found in the registry. ` + `This kernel may not be supported by the tfjs backend you have chosen`);\n}","map":{"version":3,"sources":["../../src/backends/backend.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["/**\r\n * @license\r\n * Copyright 2020 Google LLC. All Rights Reserved.\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * =============================================================================\r\n */\r\nexport const EPSILON_FLOAT32 = 1e-7;\r\nexport const EPSILON_FLOAT16 = 1e-4;\r\n/** Convenient class for storing tensor-related data. */\r\nexport class DataStorage {\r\n    constructor(backend, dataMover) {\r\n        this.backend = backend;\r\n        this.dataMover = dataMover;\r\n        this.data = new WeakMap();\r\n        this.dataIdsCount = 0;\r\n    }\r\n    get(dataId) {\r\n        if (!this.data.has(dataId)) {\r\n            this.dataMover.moveData(this.backend, dataId);\r\n        }\r\n        return this.data.get(dataId);\r\n    }\r\n    set(dataId, value) {\r\n        this.dataIdsCount++;\r\n        this.data.set(dataId, value);\r\n    }\r\n    has(dataId) {\r\n        return this.data.has(dataId);\r\n    }\r\n    delete(dataId) {\r\n        this.dataIdsCount--;\r\n        return this.data.delete(dataId);\r\n    }\r\n    numDataIds() {\r\n        return this.dataIdsCount;\r\n    }\r\n}\r\n/**\r\n * The interface that defines the kernels that should be implemented when\r\n * adding a new backend. New backends don't need to implement every one of the\r\n * methods, this can be done gradually (throw an error for unimplemented\r\n * methods).\r\n */\r\nexport class KernelBackend {\r\n    time(f) {\r\n        return notYetImplemented('time');\r\n    }\r\n    read(dataId) {\r\n        return notYetImplemented('read');\r\n    }\r\n    readSync(dataId) {\r\n        return notYetImplemented('readSync');\r\n    }\r\n    numDataIds() {\r\n        return notYetImplemented('numDataIds');\r\n    }\r\n    disposeData(dataId) {\r\n        return notYetImplemented('disposeData');\r\n    }\r\n    write(values, shape, dtype) {\r\n        return notYetImplemented('write');\r\n    }\r\n    move(dataId, values, shape, dtype) {\r\n        return notYetImplemented('move');\r\n    }\r\n    memory() {\r\n        return notYetImplemented('memory');\r\n    }\r\n    /** Returns the highest precision for floats in bits (e.g. 16 or 32) */\r\n    floatPrecision() {\r\n        return notYetImplemented('floatPrecision');\r\n    }\r\n    /** Returns the smallest representable number.  */\r\n    epsilon() {\r\n        return this.floatPrecision() === 32 ? EPSILON_FLOAT32 : EPSILON_FLOAT16;\r\n    }\r\n    batchMatMul(a, b, transposeA, transposeB) {\r\n        return notYetImplemented('batchMatMul');\r\n    }\r\n    fusedBatchMatMul({ a, b, transposeA, transposeB, bias, activation, preluActivationWeights }) {\r\n        return notYetImplemented('fusedBatchMatMul');\r\n    }\r\n    slice(x, begin, size) {\r\n        return notYetImplemented('slice');\r\n    }\r\n    stridedSlice(x, begin, end, strides) {\r\n        return notYetImplemented('stridedSlice');\r\n    }\r\n    unstack(x, axis) {\r\n        return notYetImplemented('unstack');\r\n    }\r\n    reverse(a, axis) {\r\n        return notYetImplemented('reverse');\r\n    }\r\n    concat(tensors, axis) {\r\n        return notYetImplemented('concat');\r\n    }\r\n    neg(a) {\r\n        return notYetImplemented('neg');\r\n    }\r\n    add(a, b) {\r\n        return notYetImplemented('add');\r\n    }\r\n    addN(tensors) {\r\n        return notYetImplemented('addN');\r\n    }\r\n    subtract(a, b) {\r\n        return notYetImplemented('subtract');\r\n    }\r\n    multiply(a, b) {\r\n        return notYetImplemented('multiply');\r\n    }\r\n    realDivide(a, b) {\r\n        return notYetImplemented('realDivide');\r\n    }\r\n    floorDiv(a, b) {\r\n        return notYetImplemented('floorDiv');\r\n    }\r\n    sum(x, axes) {\r\n        return notYetImplemented('sum');\r\n    }\r\n    prod(x, axes) {\r\n        return notYetImplemented('prod');\r\n    }\r\n    unsortedSegmentSum(x, segmentIds, numSegments) {\r\n        return notYetImplemented('unsortedSegmentSum');\r\n    }\r\n    argMin(x, axis) {\r\n        return notYetImplemented('argMin');\r\n    }\r\n    argMax(x, axis) {\r\n        return notYetImplemented('argMax');\r\n    }\r\n    equal(a, b) {\r\n        return notYetImplemented('equal');\r\n    }\r\n    notEqual(a, b) {\r\n        return notYetImplemented('notEqual');\r\n    }\r\n    less(a, b) {\r\n        return notYetImplemented('less');\r\n    }\r\n    lessEqual(a, b) {\r\n        return notYetImplemented('lessEqual');\r\n    }\r\n    greater(a, b) {\r\n        return notYetImplemented('greater');\r\n    }\r\n    greaterEqual(a, b) {\r\n        return notYetImplemented('greaterEqual');\r\n    }\r\n    logicalNot(a) {\r\n        return notYetImplemented('logicalNot');\r\n    }\r\n    logicalAnd(a, b) {\r\n        return notYetImplemented('logicalAnd');\r\n    }\r\n    logicalOr(a, b) {\r\n        return notYetImplemented('logicalOr');\r\n    }\r\n    where(condition) {\r\n        return notYetImplemented('where');\r\n    }\r\n    select(condition, a, b) {\r\n        return notYetImplemented('select');\r\n    }\r\n    topk(x, k, sorted) {\r\n        return notYetImplemented('topk');\r\n    }\r\n    min(x, axes) {\r\n        return notYetImplemented('min');\r\n    }\r\n    minimum(a, b) {\r\n        return notYetImplemented('minimum');\r\n    }\r\n    mod(a, b) {\r\n        return notYetImplemented('mod');\r\n    }\r\n    max(x, axes) {\r\n        return notYetImplemented('max');\r\n    }\r\n    maximum(a, b) {\r\n        return notYetImplemented('maximum');\r\n    }\r\n    all(x, axes) {\r\n        return notYetImplemented('all');\r\n    }\r\n    any(x, axes) {\r\n        return notYetImplemented('any');\r\n    }\r\n    squaredDifference(a, b) {\r\n        return notYetImplemented('squaredDifference');\r\n    }\r\n    ceil(x) {\r\n        return notYetImplemented('ceil');\r\n    }\r\n    floor(x) {\r\n        return notYetImplemented('floor');\r\n    }\r\n    round(x) {\r\n        return notYetImplemented('round');\r\n    }\r\n    sign(x) {\r\n        return notYetImplemented('sign');\r\n    }\r\n    isNaN(x) {\r\n        return notYetImplemented('isNaN');\r\n    }\r\n    isInf(x) {\r\n        return notYetImplemented('isInf');\r\n    }\r\n    isFinite(x) {\r\n        return notYetImplemented('isFinite');\r\n    }\r\n    pow(a, b) {\r\n        return notYetImplemented('pow');\r\n    }\r\n    exp(x) {\r\n        return notYetImplemented('exp');\r\n    }\r\n    expm1(x) {\r\n        return notYetImplemented('expm1');\r\n    }\r\n    softmax(x, dim) {\r\n        return notYetImplemented('softmax');\r\n    }\r\n    log(x) {\r\n        return notYetImplemented('log');\r\n    }\r\n    log1p(x) {\r\n        return notYetImplemented('log1p');\r\n    }\r\n    sqrt(x) {\r\n        return notYetImplemented('sqrt');\r\n    }\r\n    rsqrt(x) {\r\n        return notYetImplemented('rsqrt');\r\n    }\r\n    square(x) {\r\n        return notYetImplemented('square');\r\n    }\r\n    reciprocal(x) {\r\n        return notYetImplemented('reciprocal');\r\n    }\r\n    relu(x) {\r\n        return notYetImplemented('relu');\r\n    }\r\n    relu6(x) {\r\n        return notYetImplemented('relu6');\r\n    }\r\n    prelu(x, a) {\r\n        return notYetImplemented('prelu');\r\n    }\r\n    elu(x) {\r\n        return notYetImplemented('elu');\r\n    }\r\n    eluDer(dy, y) {\r\n        return notYetImplemented('eluDer');\r\n    }\r\n    selu(x) {\r\n        return notYetImplemented('selu');\r\n    }\r\n    int(x) {\r\n        return notYetImplemented('int');\r\n    }\r\n    clip(x, min, max) {\r\n        return notYetImplemented('clip');\r\n    }\r\n    abs(x) {\r\n        return notYetImplemented('abs');\r\n    }\r\n    complexAbs(x) {\r\n        return notYetImplemented('complexAbs');\r\n    }\r\n    sigmoid(x) {\r\n        return notYetImplemented('sigmoid');\r\n    }\r\n    softplus(x) {\r\n        return notYetImplemented('softplus');\r\n    }\r\n    sin(x) {\r\n        return notYetImplemented('sin');\r\n    }\r\n    cos(x) {\r\n        return notYetImplemented('cos');\r\n    }\r\n    tan(x) {\r\n        return notYetImplemented('tan');\r\n    }\r\n    asin(x) {\r\n        return notYetImplemented('asin');\r\n    }\r\n    acos(x) {\r\n        return notYetImplemented('acos');\r\n    }\r\n    atan(x) {\r\n        return notYetImplemented('atan');\r\n    }\r\n    atan2(a, b) {\r\n        return notYetImplemented('atan2');\r\n    }\r\n    sinh(x) {\r\n        return notYetImplemented('sinh');\r\n    }\r\n    cosh(x) {\r\n        return notYetImplemented('cosh');\r\n    }\r\n    tanh(x) {\r\n        return notYetImplemented('tanh');\r\n    }\r\n    asinh(x) {\r\n        return notYetImplemented('asinh');\r\n    }\r\n    acosh(x) {\r\n        return notYetImplemented('acosh');\r\n    }\r\n    atanh(x) {\r\n        return notYetImplemented('atanh');\r\n    }\r\n    erf(x) {\r\n        return notYetImplemented('erf');\r\n    }\r\n    step(x, alpha) {\r\n        return notYetImplemented('step');\r\n    }\r\n    fusedConv2d({ input, filter, convInfo, bias, activation, preluActivationWeights }) {\r\n        return notYetImplemented('fusedConv2d');\r\n    }\r\n    conv2d(x, filter, convInfo) {\r\n        return notYetImplemented('conv2d');\r\n    }\r\n    conv2dDerInput(dy, filter, convInfo) {\r\n        return notYetImplemented('conv2dDerInput');\r\n    }\r\n    conv2dDerFilter(x, dY, convInfo) {\r\n        return notYetImplemented('conv2dDerFilter');\r\n    }\r\n    fusedDepthwiseConv2D({ input, filter, convInfo, bias, activation, preluActivationWeights }) {\r\n        return notYetImplemented('fusedDepthwiseConv2D');\r\n    }\r\n    depthwiseConv2D(input, filter, convInfo) {\r\n        return notYetImplemented('depthwiseConv2D');\r\n    }\r\n    depthwiseConv2DDerInput(dy, filter, convInfo) {\r\n        return notYetImplemented('depthwiseConv2DDerInput');\r\n    }\r\n    depthwiseConv2DDerFilter(x, dY, convInfo) {\r\n        return notYetImplemented('depthwiseConv2DDerFilter');\r\n    }\r\n    conv3d(x, filter, convInfo) {\r\n        return notYetImplemented('conv3d');\r\n    }\r\n    conv3dDerInput(dy, filter, convInfo) {\r\n        return notYetImplemented('conv3dDerInput');\r\n    }\r\n    conv3dDerFilter(x, dY, convInfo) {\r\n        return notYetImplemented('conv3dDerFilter');\r\n    }\r\n    maxPool(x, convInfo) {\r\n        return notYetImplemented('maxPool');\r\n    }\r\n    maxPoolBackprop(dy, x, y, convInfo) {\r\n        return notYetImplemented('maxPoolBackprop');\r\n    }\r\n    avgPool(x, convInfo) {\r\n        return notYetImplemented('avgPool');\r\n    }\r\n    avgPoolBackprop(dy, x, convInfo) {\r\n        return notYetImplemented('avgPoolBackprop');\r\n    }\r\n    avgPool3d(x, convInfo) {\r\n        return notYetImplemented('avgPool3d');\r\n    }\r\n    avgPool3dBackprop(dy, x, convInfo) {\r\n        return notYetImplemented('avgPool3dBackprop');\r\n    }\r\n    maxPool3d(x, convInfo) {\r\n        return notYetImplemented('maxPool3d');\r\n    }\r\n    maxPool3dBackprop(dy, x, y, convInfo) {\r\n        return notYetImplemented('maxPool3dBackprop');\r\n    }\r\n    reshape(x, shape) {\r\n        return notYetImplemented('reshape');\r\n    }\r\n    cast(x, dtype) {\r\n        return notYetImplemented('cast');\r\n    }\r\n    tile(x, reps) {\r\n        return notYetImplemented('tile');\r\n    }\r\n    pad(x, paddings, constantValue) {\r\n        return notYetImplemented('pad');\r\n    }\r\n    transpose(x, perm) {\r\n        return notYetImplemented('transpose');\r\n    }\r\n    gather(x, indices, axis) {\r\n        return notYetImplemented('gather');\r\n    }\r\n    gatherND(x, indices) {\r\n        return notYetImplemented('gatherND');\r\n    }\r\n    scatterND(indices, updates, shape) {\r\n        return notYetImplemented('scatterND');\r\n    }\r\n    batchToSpaceND(x, blockShape, crops) {\r\n        return notYetImplemented('batchToSpaceND');\r\n    }\r\n    spaceToBatchND(x, blockShape, paddings) {\r\n        return notYetImplemented('spaceToBatchND');\r\n    }\r\n    resizeBilinear(x, newHeight, newWidth, alignCorners) {\r\n        return notYetImplemented('resizeBilinear');\r\n    }\r\n    resizeBilinearBackprop(dy, x, alignCorners) {\r\n        return notYetImplemented('resizeBilinearBackprop');\r\n    }\r\n    resizeNearestNeighbor(x, newHEight, newWidth, alignCorners) {\r\n        return notYetImplemented('resizeNearestNeighbor');\r\n    }\r\n    resizeNearestNeighborBackprop(dy, x, alignCorners) {\r\n        return notYetImplemented('resizeNearestNeighborBackprop');\r\n    }\r\n    batchNorm(x, mean, variance, offset, scale, varianceEpsilon) {\r\n        return notYetImplemented('batchNorm');\r\n    }\r\n    localResponseNormalization4D(x, radius, bias, alpha, beta) {\r\n        return notYetImplemented('localResponseNormalization4D');\r\n    }\r\n    LRNGrad(dy, inputImage, outputImage, radius, bias, alpha, beta) {\r\n        return notYetImplemented('LRNGrad');\r\n    }\r\n    multinomial(logits, normalized, numSamples, seed) {\r\n        return notYetImplemented('multinomial');\r\n    }\r\n    oneHot(indices, depth, onValue, offValue) {\r\n        return notYetImplemented('oneHot');\r\n    }\r\n    cumsum(x, axis, exclusive, reverse) {\r\n        return notYetImplemented('cumsum');\r\n    }\r\n    nonMaxSuppression(boxes, scores, maxOutputSize, iouThreshold, scoreThreshold) {\r\n        return notYetImplemented('nonMaxSuppression');\r\n    }\r\n    fft(x) {\r\n        return notYetImplemented('fft');\r\n    }\r\n    ifft(x) {\r\n        return notYetImplemented('ifft');\r\n    }\r\n    complex(real, imag) {\r\n        return notYetImplemented('complex');\r\n    }\r\n    real(input) {\r\n        return notYetImplemented('real');\r\n    }\r\n    imag(input) {\r\n        return notYetImplemented('imag');\r\n    }\r\n    cropAndResize(image, boxes, boxIndex, cropSize, method, extrapolationValue) {\r\n        return notYetImplemented('cropAndResize');\r\n    }\r\n    depthToSpace(x, blockSize, dataFormat) {\r\n        return notYetImplemented('depthToSpace');\r\n    }\r\n    // Aligns with the \"SplitV\" kernel in TensorFlow.\r\n    split(value, sizeSplits, axis) {\r\n        return notYetImplemented('split');\r\n    }\r\n    sparseToDense(sparseIndices, sparseValues, outputShape, defaultValue) {\r\n        return notYetImplemented('sparseToDense');\r\n    }\r\n    diag(x) {\r\n        return notYetImplemented('diag');\r\n    }\r\n    fill(shape, value, dtype) {\r\n        return notYetImplemented('fill');\r\n    }\r\n    onesLike(x) {\r\n        return notYetImplemented('onesLike');\r\n    }\r\n    zerosLike(x) {\r\n        return notYetImplemented('zerosLike');\r\n    }\r\n    linspace(start, stop, num) {\r\n        return notYetImplemented('linspace');\r\n    }\r\n    dispose() {\r\n        return notYetImplemented('dispose');\r\n    }\r\n}\r\nfunction notYetImplemented(kernelName) {\r\n    throw new Error(`'${kernelName}' not yet implemented or not found in the registry. ` +\r\n        `This kernel may not be supported by the tfjs backend you have chosen`);\r\n}\r\n//# sourceMappingURL=backend.js.map"]},"metadata":{},"sourceType":"module"}